{
  "name": "k8s-az-dev",
  "build": {
    "dockerfile": "Dockerfile"
  },

  // Mount the folder you opened in VS Code to /workspace
  "workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind",
  "workspaceFolder": "/workspace",

  // Also make the entire D: drive available at /d
  "mounts": [
    "source=D:\\,target=/d,type=bind,consistency=cached"
  ],

  "remoteUser": "dev",

  // Keep the container alive (prevents the 'container is not running' error)
  "overrideCommand": true,

  // The CLI youâ€™re using shows 'update-remote-user-uid-default on'.
  // Disable UID/GID mutation since we already set them at build time.
  "updateRemoteUserUID": false,

  "customizations": {
    "vscode": {
      "extensions": [
        "ms-azuretools.vscode-azureaccount",
        "ms-vscode.azurecli",
        "ms-azuretools.vscode-docker",

        "ms-kubernetes-tools.vscode-kubernetes-tools",
        "tim-koehler.helm-intellisense",
        "redhat.vscode-yaml",

        "HashiCorp.terraform",

        "ms-python.python",

        "eamodio.gitlens",
        "github.vscode-pull-request-github",
        "rogalmic.bash-debug"
      ],
      "settings": {
        "python.defaultInterpreterPath": "/usr/bin/python",
        "python.terminal.activateEnvironment": false,
        "vs-kubernetes.kubectl-path": "/usr/local/bin/kubectl",
        "yaml.validate": true,
        "yaml.format.enable": true,
        "terraform.languageServer": { "external": true }
      }
    }
  },

  "postCreateCommand": "git --version && az version && kubectl version --client && helm version && terraform version && python --version && pip --version"
}
